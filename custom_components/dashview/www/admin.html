<p>This is the central place for administrative tasks and advanced settings.</p>

<div class="tabs-container" style="margin-top: 20px;">
    <div class="tab-buttons">
        <button class="tab-button active" data-target="weather-tab">Weather</button>
        <button class="tab-button" data-target="house-setup-tab">House Setup</button>
        <button class="tab-button" data-target="floor-maintenance-tab">Floor Maintenance</button>
        <button class="tab-button" data-target="room-maintenance-tab">Room Maintenance</button>
        <button class="tab-button" data-target="header-buttons-tab">Header Buttons (Legacy)</button>
    </div>

    <div id="weather-tab" class="tab-content active">
        <h4>Weather Entity</h4>
        <p>Select the primary weather entity to be used across the dashboard.</p>
        <div id="weather-status" class="status-display">Ready</div>
        <div class="setting-row">
            <select id="weather-entity-selector" class="dropdown-selector"></select>
            <button id="save-weather-entity" class="save-button">Save</button>
            <button id="reload-weather-config" class="action-button">Reload</button>
        </div>
    </div>

    <div id="house-setup-tab" class="tab-content">
        <h4>House Setup Configuration</h4>
        <p>Configure your house with unified room and floor settings. This is the modern way to configure DashView.</p>
        
        <div class="config-section">
            <h5>House Configuration Status</h5>
            <div id="house-config-status" class="status-display">Loading...</div>
            <button id="reload-house-config" class="action-button">Reload House Configuration</button>
        </div>
        
        <div class="config-section">
            <h5>House Setup Configuration</h5>
            <p>Each room contains its friendly name, icon, floor assignment, combined sensor, and placeholders for lights, covers, and media players.</p>
            <textarea id="house-config" class="config-textarea" placeholder="House configuration will be loaded here..."></textarea>
            <button id="save-house-config" class="save-button">Save House Config</button>
        </div>
    </div>

    <div id="floor-maintenance-tab" class="tab-content">
        <h4>Floor Maintenance</h4>
        <p>Assign an activity sensor to each of your Home Assistant floors.</p>
        
        <div class="config-section">
            <h5>Floor Maintenance Status</h5>
            <div id="floor-maintenance-status" class="status-display">Ready</div>
            <button id="reload-floor-maintenance" class="action-button">Reload Floors</button>
        </div>
        
        <div class="config-section">
            <h5>Configured Floors</h5>
            <div id="floors-list" class="floors-container">
                <!-- Floors will be populated here -->
            </div>
            <button id="save-floor-sensors" class="save-button" style="margin-top: 12px;">Save Floor Sensors</button>
        </div>
    </div>

    <div id="room-maintenance-tab" class="tab-content">
        <h4>Room Maintenance</h4>
        <p>Manage your rooms with their names, icons, floor assignments, and sensors.</p>

        <div class="config-section">
            <h5>Room Maintenance Status</h5>
            <div id="room-maintenance-status" class="status-display">Ready</div>
            <button id="reload-room-maintenance" class="action-button">Reload Rooms</button>
        </div>

        <div class="config-section">
            <h5>Add or Edit Room</h5>
            <div class="floor-form">
                <input type="hidden" id="editing-room-key">

                <div class="form-row">
                    <label for="new-room-key">Room Key:</label>
                    <input type="text" id="new-room-key" placeholder="e.g., living_room" class="form-input">
                </div>
                <div class="form-row">
                    <label for="new-room-name">Display Name:</label>
                    <input type="text" id="new-room-name" placeholder="e.g., Living Room" class="form-input">
                </div>
                <div class="form-row">
                    <label for="new-room-icon">Icon:</label>
                    <input type="text" id="new-room-icon" placeholder="e.g., mdi:sofa" class="form-input">
                </div>
                <div class="form-row">
                    <label for="new-room-floor">Assigned Floor:</label>
                    <select id="new-room-floor" class="form-input"></select>
                </div>
                <div class="form-row">
                    <label for="new-room-sensor">Combined Sensor:</label>
                    <input type="text" id="new-room-sensor" placeholder="e.g., binary_sensor.combined_sensor_living_room" class="form-input">
                </div>
                <button id="save-room-button" class="save-button">Save Room</button>
            </div>
        </div>

        <div class="config-section">
            <h5>Existing Rooms</h5>
            <div id="rooms-list" class="floors-container">
                <!-- Rooms will be populated here -->
            </div>
        </div>
    </div>

    <div id="header-buttons-tab" class="tab-content">
        <h4>Header Buttons Configuration (Legacy)</h4>
        <p>Configure floor and room settings for the header buttons display. This is the legacy configuration method.</p>
        
        <div class="config-section">
            <h5>Configuration Files Status</h5>
            <div id="config-status" class="status-display">Loading...</div>
            <button id="reload-config" class="action-button">Reload Configuration</button>
        </div>
        
        <div class="config-section">
            <h5>Floor Configuration</h5>
            <textarea id="floors-config" class="config-textarea" placeholder="Floor configuration will be loaded here..."></textarea>
            <button id="save-floors-config" class="save-button">Save Floors Config</button>
        </div>
        
        <div class="config-section">
            <h5>Room Configuration</h5>
            <textarea id="rooms-config" class="config-textarea" placeholder="Room configuration will be loaded here..."></textarea>
            <button id="save-rooms-config" class="save-button">Save Rooms Config</button>
        </div>
    </div>

    <div class="config-section">
        <h5>Configuration Summary</h5>
        <div id="config-summary-container" class="summary-grid">
            <p>Load a configuration tab to view summary.</p>
        </div>
    </div>
</div>

