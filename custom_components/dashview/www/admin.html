<p>This is the central place for administrative tasks and advanced settings.</p>

<div class="tabs-container" style="margin-top: 20px;">
    <div class="tab-buttons">
        <button class="tab-button active" data-target="weather-tab">Weather</button>
        <button class="tab-button" data-target="calendar-management-tab">Calendar</button>
        <button class="tab-button" data-target="person-management-tab">Person Management</button>
        <button class="tab-button" data-target="house-setup-tab">House Setup</button>
        <button class="tab-button" data-target="sensor-management-tab">Sensor Management</button>
        <button class="tab-button" data-target="device-management-tab">Device Management</button>
        <button class="tab-button" data-target="room-maintenance-tab">Room Maintenance</button>
        <button class="tab-button" data-target="integrations-tab">Integrations</button>
        <button class="tab-button" data-target="floor-layouts-tab">Floor Layouts</button>
        <button class="tab-button" data-target="scenes-tab">Scenes</button>
        <button class="tab-button" data-target="media-presets-tab">Media Presets</button>
        <button class="tab-button" data-target="other-entities-tab">Other Entities</button>
        <button class="tab-button" data-target="garbage-tab">Garbage</button>
    </div>
    <div id="scenes-tab" class="tab-content">
        <h4>Scene Button Management</h4>
        <p>Create and manage your custom scene buttons here.</p>
        
        <!-- Auto-Generated Scenes Section -->
        <div class="config-section">
            <h5>Auto-Generated Scenes</h5>
            <p>Automatically create scene buttons that appear in rooms with the relevant entities.</p>
            
            <div class="setting-row">
                <label class="toggle-container">
                    <input type="checkbox" id="auto-light-scenes-enabled" checked>
                    <span class="toggle-slider"></span>
                    <span class="toggle-label">Enable "Lights Off" scenes in all rooms with lights</span>
                </label>
            </div>
            
            <div class="setting-row">
                <label class="toggle-container">
                    <input type="checkbox" id="global-cover-scene-enabled" checked>
                    <span class="toggle-slider"></span>
                    <span class="toggle-label">Enable Global Cover Scene</span>
                </label>
            </div>
            
            <div id="auto-scenes-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            
            <div class="form-row" style="margin-top: 12px;">
                <button id="save-auto-scenes" class="action-button">Save Settings</button>
            </div>
        </div>

        <div class="config-section">
            <h5>Manual Scene Buttons</h5>
            <p>Create custom scene buttons that appear in relevant room popups. Each scene controls specific entities and can have different behaviors based on their type.</p>
            <div id="scenes-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <div id="scenes-list" class="floors-container">
                </div>
            <div class="form-row" style="margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                <input type="text" id="new-scene-name" class="form-input" placeholder="Scene Name (e.g., Ambiente)" data-tooltip="Friendly name displayed on the scene button">
                <input type="text" id="new-scene-id" class="form-input" placeholder="Unique ID (e.g., wohnzimmer_ambiente)" data-tooltip="Unique identifier for this scene. Use lowercase, underscores instead of spaces. Must be unique across all scenes.">
                <input type="text" id="new-scene-icon" class="form-input" placeholder="Icon (e.g., mdi:sofa)" data-tooltip="Material Design Icon name. Format: mdi:icon-name. Browse icons at materialdesignicons.com">
                <select id="new-scene-type" class="dropdown-selector" data-tooltip="Scene type determines button behavior and styling. Default for simple on/off, Cover for blinds/shutters, Computer for smart toggles.">
                    <option value="default">Default</option>
                    <option value="cover">Cover</option>
                    <option value="all_covers">All Covers</option>
                    <option value="roof_window">Roof Window</option>
                    <option value="dimm_desk">Dimmable Desk</option>
                    <option value="computer">Computer</option>
                    <option value="all_lights_out">All Lights Out</option>
                </select>
                <textarea id="new-scene-entities" class="config-textarea" placeholder="Entities (one per line)" style="grid-column: 1 / -1;" data-tooltip="Home Assistant entity IDs controlled by this scene. Format: domain.entity_name (e.g., light.living_room_lamp). One entity per line."></textarea>
            </div>
            <button id="add-scene" class="action-button">Add Scene</button>
            <button id="save-scenes" class="save-button" style="margin-top: 20px;">Save All Scenes</button>
        </div>
    </div>
    <div id="weather-tab" class="tab-content active">
        <h4>Weather Entity</h4>
        <p>Select the primary weather entity that provides current conditions and forecasts for your dashboard. This entity will be used in weather cards and for weather-based automations throughout DashView.</p>
        <div id="weather-status" class="status-display">
            <span class="status-icon mdi"></span>
            <span class="status-text">Ready</span>
        </div>
        <div class="setting-row">
            <select id="weather-entity-selector" class="dropdown-selector"></select>
            <button id="save-weather-entity" class="save-button">Save</button>
            <button id="reload-weather-config" class="action-button">Reload</button>
        </div>
    </div>
    <div id="calendar-management-tab" class="tab-content">
        <h4>Calendar Management</h4>
        <p>Select which calendar entities should be displayed in the DashView calendar popup. Events from all selected calendars will be merged and displayed chronologically.</p>
        <div id="calendar-status" class="status-display">
            <span class="status-icon mdi"></span>
            <span class="status-text">Ready</span>
        </div>
        <div class="config-section">
            <h5>Available Calendars</h5>
            <p>Check the calendars you want to include in the dashboard:</p>
            <div id="calendar-list" class="entity-list">
                <!-- Calendar checkboxes will be dynamically inserted here -->
            </div>
            <div class="form-row" style="margin-top: 20px;">
                <button id="save-calendars" class="save-button">Save Calendar Selection</button>
                <button id="reload-calendars" class="action-button">Reload</button>
            </div>
        </div>
    </div>
    <div id="person-management-tab" class="tab-content">
        <h4>Person Management</h4>
        <p>Configure person entities and their associated data sources. Link device trackers, sensors, calendars, and custom modes for each family member.</p>
        <div id="person-status" class="status-display">
            <span class="status-icon mdi"></span>
            <span class="status-text">Ready</span>
        </div>
        
        <div class="config-section">
            <h5>Person Configuration</h5>
            <p>Select and configure person entities for the dashboard:</p>
            
            <div class="form-row">
                <label for="person-selector">Add Person:</label>
                <select id="person-selector" class="dropdown-selector">
                    <option value="">Select a person...</option>
                </select>
                <button id="add-person" class="action-button">Add Person</button>
            </div>
            
            <div id="person-configurations" class="person-configs-container">
                <!-- Person configurations will be dynamically inserted here -->
            </div>
            
            <div class="form-row" style="margin-top: 20px;">
                <button id="save-persons" class="save-button">Save Person Configuration</button>
                <button id="reload-persons" class="action-button">Reload</button>
            </div>
        </div>
    </div>
    <div id="floor-layouts-tab" class="tab-content">
        <h4>Floor Layout Editor</h4>
        <p>Configure the small sensor card slots for each floor. Choose between "Automatic" (smart ranking based on sensor state changes and importance), "Pinned" (always show a specific sensor), or "Empty" (hide the slot). Automatic mode prioritizes motion sensors, then window/door sensors, then temperature sensors.</p>
        <div id="floor-layout-editor-container">
            <!-- The editor will be dynamically generated here -->
            <div class="placeholder">Loading layout editor...</div>
        </div>
        <button id="save-floor-layouts" class="save-button" style="margin-top: 20px;">Save Layouts</button>
        <div id="floor-layouts-status" class="status-display" style="margin-top: 10px;">
            <span class="status-icon mdi"></span>
            <span class="status-text">Ready</span>
        </div>
    </div>
    <div id="house-setup-tab" class="tab-content">
        <h4>House Setup Configuration</h4>
        <p>Configure your house with unified room and floor settings using JSON format. This modern approach allows detailed control over room properties, floor assignments, and entity relationships. Replaces the legacy individual configuration methods.</p>
        
        <div class="config-section">
            <h5>House Configuration Status</h5>
            <p>Current status of your house configuration. Reload to sync with Home Assistant's area and floor registry.</p>
            <div id="house-config-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Loading...</span>
            </div>
            <button id="reload-house-config" class="action-button">Reload House Configuration</button>
        </div>
        
        <div class="config-section">
            <h5>House Setup Configuration</h5>
            <p>JSON configuration defining your house structure. Each room contains its friendly name, icon, floor assignment, combined sensor (aggregated activity), and entity assignments for lights, covers, and media players.</p>
            <textarea id="house-config" class="config-textarea" placeholder="House configuration will be loaded here..." data-tooltip="JSON format: rooms object with room_key: {friendly_name, icon, floor, combined_sensor, lights[], covers[], media_players[]}. Use Home Assistant entity IDs."></textarea>
            <button id="save-house-config" class="save-button">Save House Config</button>
        </div>
    </div>
    <div id="media-presets-tab" class="tab-content">
        <h4>Media Player Presets</h4>
        <p>Create playlist shortcuts that appear as quick-access buttons in your media player cards. Supports Spotify playlists, local media files, and other media sources supported by Home Assistant.</p>
        <div class="config-section">
            <h5>Preset Management</h5>
            <p>Create and organize your media presets. Each preset needs a display name and a content identifier that your media player can understand.</p>
            <div id="media-presets-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <div id="media-presets-list" class="floors-container">
                </div>
            <div class="form-row" style="margin-top: 20px;">
                <input type="text" id="new-preset-name" class="form-input" placeholder="Preset Name (e.g., Dinner Jazz)" data-tooltip="Display name for this preset button">
                <input type="text" id="new-preset-id" class="form-input" placeholder="Content ID (e.g., spotify:playlist:...)" data-tooltip="Media content identifier. Examples: spotify:playlist:37i9dQZF1DX0XUsuxWHRQd, media-source://media_source/local/music/playlist.m3u, or radio station URLs">
                <button id="add-media-preset" class="action-button">Add Preset</button>
            </div>
            <button id="save-media-presets" class="save-button" style="margin-top: 20px;">Save All Presets</button>
        </div>
    </div>
    <div id="sensor-management-tab" class="tab-content">
        <h4>Sensor Management</h4>
        <p>Configure all sensor types from Home Assistant. Manage motion, window, smoke detector, vibration, door, temperature, and humidity sensors in one place.</p>
        
        <!-- Motion Sensors Section -->
        <div class="config-section">
            <h5>Motion Sensors</h5>
            <p>Configure motion sensors based on Home Assistant labels. Select motion sensors labeled "Motion" to assign to rooms.</p>
            <div id="motion-setup-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <button id="reload-motion-sensors" class="action-button">Reload Motion Sensors</button>
            <input type="text" class="form-input entity-search-input" placeholder="Search motion sensors..." data-target="motion-sensors-by-room">
            <div id="motion-sensors-by-room" class="floors-container">
            </div>
            <button id="save-motion-sensor-config" class="save-button" style="margin-top: 12px;">Save Motion Sensor Configuration</button>
        </div>
        
        <!-- Window Sensors Section -->
        <div class="config-section">
            <h5>Window Sensors</h5>
            <p>Configure window sensors based on Home Assistant labels. Select window sensors labeled "Fenster" to assign to rooms.</p>
            <div id="window-setup-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <button id="reload-window-sensors" class="action-button">Reload Window Sensors</button>
            <input type="text" class="form-input entity-search-input" placeholder="Search window sensors..." data-target="window-sensors-by-room">
            <div id="window-sensors-by-room" class="floors-container">
            </div>
            <button id="save-window-sensor-config" class="save-button" style="margin-top: 12px;">Save Window Sensor Configuration</button>
        </div>
        
        <!-- Smoke Detector Section -->
        <div class="config-section">
            <h5>Smoke Detectors</h5>
            <p>Configure smoke detector sensors based on Home Assistant labels. Select smoke detectors labeled "Rauchmelder" to assign to rooms.</p>
            <div id="smoke-detector-setup-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <button id="reload-smoke-detector-sensors" class="action-button">Reload Smoke Detectors</button>
            <input type="text" class="form-input entity-search-input" placeholder="Search smoke detectors..." data-target="smoke-detector-sensors-by-room">
            <div id="smoke-detector-sensors-by-room" class="floors-container">
            </div>
            <button id="save-smoke-detector-sensor-config" class="save-button" style="margin-top: 12px;">Save Smoke Detector Configuration</button>
        </div>
        
        <!-- Vibration Sensors Section -->
        <div class="config-section">
            <h5>Vibration Sensors</h5>
            <p>Configure vibration sensors based on Home Assistant labels. Select vibration sensors labeled "Vibration" to assign to rooms.</p>
            <div id="vibration-setup-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <button id="reload-vibration-sensors" class="action-button">Reload Vibration Sensors</button>
            <input type="text" class="form-input entity-search-input" placeholder="Search vibration sensors..." data-target="vibration-sensors-by-room">
            <div id="vibration-sensors-by-room" class="floors-container">
            </div>
            <button id="save-vibration-sensor-config" class="save-button" style="margin-top: 12px;">Save Vibration Sensor Configuration</button>
        </div>
        
        <!-- Door Sensors Section -->
        <div class="config-section">
            <h5>Door Sensors</h5>
            <p>Configure door sensors based on Home Assistant labels. Select door sensors labeled "Door" to assign to rooms.</p>
            <div id="door-setup-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <button id="reload-door-sensors" class="action-button">Reload Door Sensors</button>
            <input type="text" class="form-input entity-search-input" placeholder="Search door sensors..." data-target="door-sensors-by-room">
            <div id="door-sensors-by-room" class="floors-container">
            </div>
            <button id="save-door-sensor-config" class="save-button" style="margin-top: 12px;">Save Door Sensor Configuration</button>
        </div>
        
        <!-- Temperature Sensors Section -->
        <div class="config-section">
            <h5>Temperature Sensors</h5>
            <p>Configure temperature sensors based on Home Assistant labels. Select sensors labeled "Temperatur" to assign to rooms.</p>
            
            <div class="config-section">
                <h6>Global Thresholds</h6>
                <p>Set global thresholds for temperature and humidity notifications.</p>
                <div id="thresholds-config-status" class="status-display">
                    <span class="status-icon mdi"></span>
                    <span class="status-text">Ready</span>
                </div>
                <div class="setting-row">
                    <label for="global-temp-threshold" style="width: 100px;">Temperature:</label>
                    <input type="number" id="global-temp-threshold" class="form-input" placeholder="e.g., 30">
                </div>
                <div class="setting-row" style="margin-top: 8px;">
                    <label for="global-humidity-threshold" style="width: 100px;">Humidity:</label>
                    <input type="number" id="global-humidity-threshold" class="form-input" placeholder="e.g., 70">
                </div>
                <button id="save-thresholds-config" class="save-button" style="margin-top: 12px;">Save Thresholds</button>
            </div>
            
            <div id="temperatur-setup-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <button id="reload-temperatur-sensors" class="action-button">Reload Temperature Sensors</button>
            <input type="text" class="form-input entity-search-input" placeholder="Search temperature sensors..." data-target="temperatur-sensors-by-room">
            <div id="temperatur-sensors-by-room" class="floors-container">
            </div>
            <button id="save-temperatur-sensor-config" class="save-button" style="margin-top: 12px;">Save Temperature Sensor Configuration</button>
        </div>
        
        <!-- Humidity Sensors Section -->
        <div class="config-section">
            <h5>Humidity Sensors</h5>
            <p>Configure humidity sensors based on Home Assistant labels. Select sensors labeled "Humidity" to assign to rooms.</p>
            <div id="humidity-setup-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <button id="reload-humidity-sensors" class="action-button">Reload Humidity Sensors</button>
            <input type="text" class="form-input entity-search-input" placeholder="Search humidity sensors..." data-target="humidity-sensors-by-room">
            <div id="humidity-sensors-by-room" class="floors-container">
            </div>
            <button id="save-humidity-sensor-config" class="save-button" style="margin-top: 12px;">Save Humidity Sensor Configuration</button>
        </div>
    </div>

    <div id="device-management-tab" class="tab-content">
        <h4>Device Management</h4>
        <p>Configure all device types from Home Assistant. Manage lights, covers, and media players in one place.</p>
        
        <!-- Light Setup Section -->
        <div class="config-section">
            <h5>Light Setup</h5>
            <p>Configure light entities from Home Assistant's light domain. Assign lights to rooms for control in room popups and scene automation. Both individual lights and light groups are supported.</p>
            <div id="light-setup-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <button id="reload-light-entities" class="action-button">Reload Lights</button>
            <input type="text" class="form-input entity-search-input" placeholder="Search light entities..." data-target="lights-by-room">
            <div id="lights-by-room" class="floors-container">
            </div>
            <button id="save-light-config" class="save-button" style="margin-top: 12px;">Save Light Configuration</button>
        </div>
        
        <!-- Cover Setup Section -->
        <div class="config-section">
            <h5>Cover Setup</h5>
            <p>Configure cover entities (blinds, shutters, garage doors) from Home Assistant's cover domain. Assign covers to rooms for control in room popups and automated scenes.</p>
            <div id="cover-setup-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <button id="reload-cover-entities" class="action-button">Reload Covers</button>
            <input type="text" class="form-input entity-search-input" placeholder="Search cover entities..." data-target="covers-by-room">
            <div id="covers-by-room" class="floors-container">
            </div>
            <button id="save-cover-config" class="save-button" style="margin-top: 12px;">Save Cover Configuration</button>
        </div>
        
        <!-- Media Player Setup Section -->
        <div class="config-section">
            <h5>Media Player Management</h5>
            <p>Assign media players (speakers, TVs, streaming devices) to rooms. Each room can have multiple media players. Assigned players will appear in room popups with playback controls and preset buttons.</p>
            <div id="media-player-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <button id="reload-media-players" class="action-button">Reload Rooms & Players</button>
            <input type="text" class="form-input entity-search-input" placeholder="Search media players..." data-target="media-player-assignment-list">
            <div id="media-player-assignment-list" class="floors-container">
            </div>
            <button id="save-all-media-assignments" class="save-button" style="margin-top: 20px;">Save All Assignments</button>
        </div>
    </div>



    <div id="room-maintenance-tab" class="tab-content">
        <h4>Room Maintenance</h4>
        <p>Assign a combined activity sensor to each of your Home Assistant rooms. Combined sensors aggregate multiple sensor inputs (motion, door, window) to provide a single activity indicator for room presence detection.</p>

        <div class="config-section">
            <h5>Room Maintenance Status</h5>
            <p>Current status of room sensor assignments. Reload to sync with Home Assistant's area registry.</p>
            <div id="room-maintenance-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <button id="reload-room-maintenance" class="action-button">Reload Rooms</button>
        </div>

        <div class="config-section">
            <h5>Configured Rooms</h5>
            <p>Select activity sensors for each room. Choose sensors that best represent overall room activity, such as binary sensors combining motion, door, and window states.</p>
            <div id="rooms-list" class="floors-container">
                </div>
        </div>
    </div>
    <div id="integrations-tab" class="tab-content">
        <h4>Integrations</h4>
        <p>Configure entities from third-party integrations that enhance your dashboard with specialized data sources and external service connections.</p>
        <div class="config-section">
            <h5>DWD Weather Warning</h5>
            <p>Select your DWD (Deutscher Wetterdienst) warning level sensor to display German weather warnings in your dashboard. This integration provides official weather alerts from Germany's national meteorological service.</p>
            <div id="dwd-config-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <div class="setting-row">
                <select id="dwd-weather-warnings-selector" class="dropdown-selector"></select>
                <button id="save-dwd-config" class="save-button">Save</button>
                <button id="reload-dwd-config" class="action-button">Reload</button>
            </div>
        </div>
    </div>
    <div id="header-buttons-tab" class="tab-content">
        <h4>Header Buttons Configuration (Legacy)</h4>
        <p>Configure floor and room settings for the header buttons display. This is the legacy configuration method.</p>
        
        <div class="config-section">
            <h5>Configuration Files Status</h5>
            <div id="config-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Loading...</span>
            </div>
            <button id="reload-config" class="action-button">Reload Configuration</button>
        </div>
        
        <div class="config-section">
            <h5>Floor Configuration</h5>
            <textarea id="floors-config" class="config-textarea" placeholder="Floor configuration will be loaded here..."></textarea>
            <button id="save-floors-config" class="save-button">Save Floors Config</button>
        </div>
        
        <div class="config-section">
            <h5>Room Configuration</h5>
            <textarea id="rooms-config" class="config-textarea" placeholder="Room configuration will be loaded here..."></textarea>
            <button id="save-rooms-config" class="save-button">Save Rooms Config</button>
        </div>
    </div>

    <div id="other-entities-tab" class="tab-content">
        <h4>Other Entities Management</h4>
        <p>Configure and manage additional entity types for your dashboard. These entities will be saved to your house configuration and can be used in sensor cards.</p>
        
        <div class="config-section">
            <h5>Hoover Entities</h5>
            <p>Add vacuum cleaner and robotic hoover entities to your rooms. These will appear in sensor cards with dynamic icons and background coloring.</p>
            <div id="hoover-setup-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <input type="text" class="form-input entity-search-input" placeholder="Search hoover entities..." data-target="hoover-entities-list">
            <div id="hoover-entities-list" class="floors-container">
                <!-- Hoover entities will be rendered here -->
            </div>
            <div class="form-row" style="margin-top: 20px; display: grid; grid-template-columns: 2fr 3fr 1fr; gap: 12px;">
                <select id="new-hoover-room" class="dropdown-selector" data-tooltip="Choose which room this vacuum cleaner belongs to. Rooms come from Home Assistant's area registry.">
                    <option value="">Select Room</option>
                </select>
                <select id="new-hoover-entity" class="dropdown-selector" data-tooltip="Home Assistant vacuum entity ID. Only vacuum domain entities are shown here.">
                    <option value="">Select Vacuum Entity</option>
                </select>
                <button id="add-hoover-entity" class="action-button">Add</button>
            </div>
            <button id="save-hoover-entities" class="save-button" style="margin-top: 12px;">Save Hoover Configuration</button>
        </div>

        <div class="config-section">
            <h5>Mower Entities</h5>
            <p>Add lawn mower and robotic mower entities to your rooms. These will appear in sensor cards with dynamic icons and background coloring.</p>
            <div id="mower-setup-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <input type="text" class="form-input entity-search-input" placeholder="Search mower entities..." data-target="mower-entities-list">
            <div id="mower-entities-list" class="floors-container">
                <!-- Mower entities will be rendered here -->
            </div>
            <div class="form-row" style="margin-top: 20px; display: grid; grid-template-columns: 2fr 3fr 1fr; gap: 12px;">
                <select id="new-mower-room" class="dropdown-selector">
                    <option value="">Select Room</option>
                </select>
                <select id="new-mower-entity" class="dropdown-selector">
                    <option value="">Select Vacuum Entity</option>
                </select>
                <button id="add-mower-entity" class="action-button">Add</button>
            </div>
            <button id="save-mower-entities" class="save-button" style="margin-top: 12px;">Save Mower Configuration</button>
        </div>

        <div class="config-section">
            <h5>Door Entities</h5>
            <p>Add additional door entities manually to your rooms. These will appear in sensor cards with dynamic icons and background coloring.</p>
            <div id="other-door-setup-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <input type="text" class="form-input entity-search-input" placeholder="Search door entities..." data-target="other-door-entities-list">
            <div id="other-door-entities-list" class="floors-container">
                <!-- Door entities will be rendered here -->
            </div>
            <div class="form-row" style="margin-top: 20px; display: grid; grid-template-columns: 2fr 3fr 1fr; gap: 12px;">
                <select id="new-other-door-room" class="dropdown-selector">
                    <option value="">Select Room</option>
                </select>
                <input type="text" id="new-other-door-entity" class="form-input" placeholder="Entity ID (e.g., binary_sensor.front_door)" data-tooltip="Home Assistant entity ID for door/gate sensor. Format: domain.entity_name. Usually binary_sensor domain.">
                <button id="add-other-door-entity" class="action-button">Add</button>
            </div>
            <button id="save-other-door-entities" class="save-button" style="margin-top: 12px;">Save Door Configuration</button>
        </div>
    </div>

    <div id="garbage-tab" class="tab-content">
        <h4>Garbage Collection Management</h4>
        <p>Configure your garbage collection sensors for display in the floor area. Each sensor shows the next collection date with appropriate icons. Designed for German waste collection systems but can be adapted for other regions.</p>
        
        <div class="config-section">
            <h5>Garbage Sensors</h5>
            <p>Add sensors that track garbage collection dates. Each type displays with specific icons and colors to help you remember collection days.</p>
            <div id="garbage-setup-status" class="status-display">
                <span class="status-icon mdi"></span>
                <span class="status-text">Ready</span>
            </div>
            <input type="text" class="form-input entity-search-input" placeholder="Search garbage sensors..." data-target="garbage-sensors-list">
            <div id="garbage-sensors-list" class="floors-container">
                <!-- Garbage sensors will be rendered here -->
            </div>
            <div class="form-row" style="margin-top: 20px; display: grid; grid-template-columns: 2fr 2fr 1fr 1fr; gap: 12px;">
                <input type="text" id="new-garbage-sensor" class="form-input" placeholder="Entity ID (e.g., sensor.biomuell)" data-tooltip="Home Assistant sensor entity that provides next collection date. Should return date/datetime values.">
                <select id="new-garbage-type" class="dropdown-selector" data-tooltip="German waste types: Biomüll (organic), Hausmüll (household), Gelber Sack (packaging), Altpapier (paper), Restmüll (residual), Wertstoff (recyclables), Sondermüll (hazardous).">
                    <option value="">Select Type</option>
                    <option value="biomuell">Biomüll</option>
                    <option value="hausmuell">Hausmüll</option>
                    <option value="gelber_sack">Gelber Sack</option>
                    <option value="altpapier">Altpapier</option>
                    <option value="restmuell">Restmüll</option>
                    <option value="wertstoff">Wertstoff</option>
                    <option value="sondermuell">Sondermüll</option>
                </select>
                <button id="add-garbage-sensor" class="action-button">Add</button>
                <button id="reload-garbage-sensors" class="action-button">Reload</button>
            </div>
            <button id="save-garbage-sensors" class="save-button" style="margin-top: 12px;">Save Garbage Configuration</button>
        </div>
    </div>

    <div class="config-section">
        <h5>Configuration Summary</h5>
        <p>Overview of your current DashView configuration status. Shows entity counts, assignments, and potential issues. Updates automatically when loading different configuration tabs.</p>
        <div id="config-summary-container" class="summary-grid">
            <p>Load a configuration tab to view summary.</p>
        </div>
    </div>
</div>
